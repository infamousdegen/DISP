import { ethers } from 'ethers';
import MyContractABI from '/home/metadev/DISP/out/disp.sol/DocumentTracker.json' assert {type:'json'};

// This is your ABI-encoded data, replace it with your actual data.
const encodedData = '0x57160c99000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000002463633635303666372d323664312d346538632d623837322d6136313730656461303634380000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000002b446973502d547261636b205573657220496e7465726661636520446f63756d656e746174696f6e2e706466000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000774657374696e67000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f6170706c69636174696f6e2f7064660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000731343132343530000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000037576564204f637420313820323032332031393a35333a313620474d542b303533302028496e646961205374616e646172642054696d65290000000000000000000000000000000000000000000000000000000000000000000000000000000042307834636533643961316161313539376536643830373532356135616236353965646636666662623565393362306461396130643937313432343265656333663334000000000000000000000000000000000000000000000000000000000000'; 
const functionName = 'upload'; // replace with actual function name if you are decoding function data

// Create an instance of Interface with the ABI
const iface = new ethers.utils.Interface(MyContractABI.abi);

// Decode the transaction data
try {
  // If you're decoding a transaction
//   const decodedTransaction = iface.parseTransaction({ data: encodedData });
//   console.log('Decoded Transaction:', decodedTransaction);

  // If you're decoding a function call (and you know the function name)
  const decodedFunctionCall = iface.decodeFunctionData(functionName, encodedData);
  console.log('Decoded Function Call:', decodedFunctionCall);
  
} catch (error) {
  console.error('Error decoding data:', error);
}
